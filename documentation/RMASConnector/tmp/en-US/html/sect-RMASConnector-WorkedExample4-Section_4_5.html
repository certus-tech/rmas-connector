<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.4.5. Post CERIF to Web Service</title><link rel="stylesheet" href="Common_Content/css/default.css" type="text/css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.1" /><meta name="package" content="RMASConnector-RMASConnector-1.0-en-US-1-0" /><link rel="home" href="index.html" title="RMASConnector" /><link rel="up" href="sect-RMASConnector-WorkedExample4-Section_4.html" title="8.4. Running the job from Spoon" /><link rel="prev" href="sect-RMASConnector-WorkedExample4-Section_4_4.html" title="8.4.4. Read Symplectic CSV" /><link rel="next" href="sect-RMASConnector-WorkedExample4-Section_4_6.html" title="8.4.6. SOAP Web Service" /></head><body class="toc_embeded "><div id="tocdiv" class="toc"><iframe id="tocframe" class="toc" src="../../../../toc.html">This is an iframe, to view it upgrade your browser or enable iframe display.</iframe></div><p id="title"><a class="left" href="http://rmas.certus-tech.com"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://rmas.certus-tech.com/documentation"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sect-RMASConnector-WorkedExample4-Section_4_4.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="sect-RMASConnector-WorkedExample4-Section_4_6.html"><strong>Next</strong></a></li></ul><div class="section" title="8.4.5. Post CERIF to Web Service" id="sect-RMASConnector-WorkedExample4-Section_4_5"><div class="titlepage"><div><div><h3 class="title" id="sect-RMASConnector-WorkedExample4-Section_4_5">8.4.5. Post CERIF to Web Service</h3></div></div></div><div class="para">
				The <span class="emphasis"><em>Post CERIF to Web Service</em></span> transformation performs the bulk of the work. The CERIF XML file is wrapped in a SOAP message and posted to a web service.
			</div><div class="figure" title="Figure 8.5. The worked example 4 job" id="sect-RMASConnector-WorkedExample4-Section_4_4_figure"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/WorkedExample4/WE4_SOAPPost.png" align="middle" width="444" alt="The SOAP Post transformation" /></div></div><h6>Figure 8.5. The worked example 4 job</h6></div><br class="figure-break" /><div class="para">
				Forming and posting the SOAP message to the remote web service requires several steps. The first of these is to load a SOAP message template from the filesystem. The message template must contain the placeholder value <span class="emphasis"><em>CERIF_DATA</em></span> to indicate the point at which the CERIF XML document is to be inserted.
			</div><div class="para">
				The Combine Fields step is used to merge the stream containing the CERIF XML data and the stream containing the SOAP message template into a single stream.
			</div><div class="para">
				The Add Action Field and Set Action Value steps introduce the SOAP Action as a new column. The SOAP Action ultimately defines the service method to invoke on the remote endpoint. The action is parameterised, so adding this value requires two steps: firstly to add the new field to the stream, and then to set its value from the transformation parameter.
			</div><div class="para">
				The SOAP template is then populated with a string replacement, substituting the <span class="emphasis"><em>CERIF_DATA</em></span> placeholder with the actual data.
			</div><div class="para">
				An HTTP POST is performed to send the request to the server. The HTTP Post step is configured to post the SOAP message as the request body, and the SOAP Action is passed as an HTTP header. This step is also configured to capture the HTTP response code and body as fields.
			</div><div class="para">
				Finally, a <span class="emphasis"><em>Write to log</em></span> step logs a message containing the HTTP status code and response body.
			</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sect-RMASConnector-WorkedExample4-Section_4_4.html"><strong>Prev</strong>8.4.4. Read Symplectic CSV</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="sect-RMASConnector-WorkedExample4-Section_4_6.html"><strong>Next</strong>8.4.6. SOAP Web Service</a></li></ul></body></html>
